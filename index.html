<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Line Bridge Simulator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="header-container">
        <h1>Line Bridge Simulator</h1>
        <p class="simulation-description">
            This simulation demonstrates the concept of connectivity in a random graph. Lines are randomly generated within the canvas. A 'bridge' is formed when a continuous path of intersecting lines connects the left and right sides of the designated red area. The simulation stops when a bridge is successfully built.
        </p>
    </div>

    <div id="main-container">
        <div id="simulation-container">
            <canvas id="simulation-canvas" width="800" height="600"></canvas>
        </div>

        <div id="controls-container">
            <h2>Controls</h2>
            <div class="control-group">
            <p>Red Area (pixels): <span id="bridge-area-size">N/A</span></p>
        </div>

        <div class="control-group">
            <label for="min-length">Min Line Length:</label>
            <input type="number" id="min-length" value="10">
            <input type="range" id="min-length-slider" min="1" max="100" value="10">
        </div>

        <div class="control-group">
            <label for="max-length">Max Line Length:</label>
            <input type="number" id="max-length" value="50">
            <input type="range" id="max-length-slider" min="1" max="200" value="50">
        </div>

        <div class="control-group">
            <label for="min-angle">Min Line Angle:</label>
            <input type="number" id="min-angle" value="0">
            <input type="range" id="min-angle-slider" min="0" max="360" value="0">
        </div>

        <div class="control-group">
            <label for="max-angle">Max Line Angle:</label>
            <input type="number" id="max-angle" value="360">
            <input type="range" id="max-angle-slider" min="0" max="360" value="360">
        </div>

        <div class="control-group">
            <label for="boundary-condition">Bridge Type:</label>
            <select id="boundary-condition">
                <option value="left-to-right" selected>Left to Right</option>
                <option value="top-to-bottom">Top to Bottom</option>
                <option value="top-left-to-bottom-right">Top-Left to Bottom-Right</option>
            </select>
        </div>

        <div id="simulation-actions">
            <button id="start-button">Start</button>
            <button id="pause-button">Pause</button>
            <button id="reset-button">Reset</button>
        </div>

        <hr>
        <h2>Statistical Analysis</h2>
        <div class="control-group">
            <label for="num-simulations">Number of Runs:</label>
            <input type="number" id="num-simulations" value="100" min="1" max="10000">
        </div>
        <div id="analysis-actions">
            <button id="run-analysis-button">Run Analysis</button>
        </div>
    </div>

    <div id="status-container">
        <h2>Simulation Status</h2>
        <p>Line Count: <span id="line-count">0</span></p>
        <p>Result: <span id="result-message">Not started</span></p>

        <div id="analysis-progress-container" style="display: none;">
            <hr>
            <h3>Analysis Progress</h3>
            <p id="analysis-progress-text">Running 0/100...</p>
            <progress id="analysis-progress-bar" value="0" max="100"></progress>
        </div>

        <div id="analysis-results-container" style="display: none;">
            <h3>Analysis Results</h3>
            <p><strong>Total Runs:</strong> <span id="analysis-runs">N/A</span></p>
            <p><strong>Mean:</strong> <span id="analysis-mean">N/A</span></p>
            <p><strong>Median:</strong> <span id="analysis-median">N/A</span></p>
            <p><strong>Min:</strong> <span id="analysis-min">N/A</span></p>
            <p><strong>Max:</strong> <span id="analysis-max">N/A</span></p>
        </div>
    </div>

    <script src="utils.js"></script>
    <script src="renderer.js"></script>
    <script src="engine.js"></script>
    <script src="statistics.js"></script>
    <script src="ui.js"></script>
</body>
</html>
